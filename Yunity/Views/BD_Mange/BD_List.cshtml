@model IEnumerable<Yunity.Models.BdListWrap>

@{
	ViewData["Title"] = "大樓名單";
}

<style>
	.btn-color {
		--bs-btn-color: #fff;
		--bs-btn-bg: #293c56;
		--bs-btn-border-color: #293c56;
		--bs-btn-hover-color: #fff;
		--bs-btn-hover-bg: #293c56;
		--bs-btn-hover-border-color: #293c56;
		--bs-btn-focus-shadow-rgb: 73, 108, 255;
		--bs-btn-active-color: #fff;
		--bs-btn-active-bg: #293c56;
		--bs-btn-active-border-color: #293c56;
		--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
		--bs-btn-disabled-color: #fff;
		--bs-btn-disabled-bg: #293c56;
		--bs-btn-disabled-border-color: #293c56;
		--bs-btn-border-radius: 10px;
		--bs-btn-padding-x: 10px;
		--bs-btn-padding-y: 5px;
	}

</style>

<div class="container">
	<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="@Url.Action("Index","Home")" class="breadcrumb-item active" aria-current="page">
                    首頁
                </a>
            </li>
            <li class="breadcrumb-item">
                <a href="@Url.Action("BD_List","BD_Mange")" class="breadcrumb-item active" aria-current="page" style="color:#293C56 ;">
                    大樓管理
                </a>
            </li>
        </ol>
    </nav>
	<h1 class="mb-4">大樓管理名單</h1>
	<div class="row">
		<div class="col-8 mb-3">
			@using (Html.BeginForm("BD_List", "BD_Mange", FormMethod.Get))
			{
				<div class="input-group">
					@Html.TextBox("txtKeyword", null, new { @class = "form-control", placeholder = "請輸入關鍵字" })
					<button class="btn btn-outline-secondary" type="submit" id="button-addon2">GO</button>
				</div>
			}
		</div>
		<div class="col-4 mb-3">
			@using (Html.BeginForm("BD_List", "BD_Mange", FormMethod.Get))
			{
				<div class="input-group">					
					<select id="Select" name="sort_Order" class="form-select" onchange="this.form.submit()">
						<option disabled selected>排序</option>
						<option value="default">預設</option>
						<option value="BuildingName">大樓名稱</option>
						<option value="ContractStart">合約起日</option>
						<option value="ContractEnd_desc">合約迄日</option>
						<option value="BdState_desc">狀態</option>
					</select>
				</div>
			}
		</div>
	</div>

	<hr />
	<div class="row"></div>
	<table class="table">
		<thead>
			<tr>
				<th class="ps-5" style="font-size:20px">
					序號
				</th>
				<th style="font-size:20px">
					@Html.DisplayNameFor(model => model.BdName)
				</th>
				<th style="font-size:20px">
					縣市
				</th>
				<th style="font-size:20px">
					@Html.DisplayNameFor(model => model.ContractStart)
				</th>
				<th style="font-size:20px">
					@Html.DisplayNameFor(model => model.ContractEnd)
				</th>
				<th style="font-size:20px">
					@Html.DisplayNameFor(model => model.BdState)
				</th>
				<th style="font-size:20px">
					住戶
				</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			@{
				int count = 0;
				@foreach (var item in Model)
				{
					count++;
					<tr>
						<td class="ps-5" style="font-size:20px">
							@count
						</td>
						<td style="font-size:20px">
							@Html.DisplayFor(modelItem => item.BdName)
						</td>
						<td style="font-size:20px">
							@if (!string.IsNullOrEmpty(item.BdAddr))
							{
								@item.BdAddr.Substring(0, 3)
							}
							else
							{
								@Html.DisplayFor(modelItem => item.BdAddr)
							}
						</td>
						<td style="font-size:20px">
							@if (item.ContractStart != null)
							{
								@Html.Raw(item.ContractStart.Value.ToString("yyyy-MM-dd"))
							}
						</td>
						<td style="font-size:20px">
							@if (item.ContractEnd != null)
							{
								@Html.Raw(item.ContractEnd.Value.ToString("yyyy-MM-dd"))
							}
						</td>
						<td style="font-size:20px">
							<span style="color: @(item.BdState == 1 ? "#01814A" : "darkred"); font-size:20px" class="me-4 fw-bold">
								@((item.BdState == 1) ? "正常" : "關閉")
							</span>
						</td>
						<td>
							<a asp-controller="BD_Mange" asp-action="Menber_List" asp-route-id="@(item.Id)" style="color:	#293c56">
								<i class="bi bi-people-fill" style="font-size:1.5rem"></i>
							</a>
						</td>
						<td style="font-size:20px">
							@Html.ActionLink("詳細", "BD_Detailed", "BD_Mange", new { id = item.Id },
							new { @class = "btn btn-color" })
						</td>
					</tr>
				}
			}
		</tbody>
	</table>
	<div class="d-flex">
		<a asp-action="Create" class="ms-auto" style="position: fixed; bottom: 20px; right: 20px;">
			<i class="bi bi-plus-circle-fill" style="font-size:3rem; color:#ff914d"></i>
		</a>
	</div>
</div>




